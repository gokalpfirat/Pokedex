(this.webpackJsonppokedex=this.webpackJsonppokedex||[]).push([[0],[,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r}));var o="https://pokeapi.co/api/v2",a=40,r={grass:"#7AC74C",normal:"#A8A77A",fire:"#EE8130",water:"#6390F0",electric:"#F7D02C",ice:"#96D9D6",fighting:"#C22E28",poison:"#A33EA1",ground:"#E2BF65",flying:"#A98FF3",psychic:"#F95587",bug:"#A6B91A",rock:"#B6A136",ghost:"#735797",dragon:"#6F35FC",dark:"#705746",steel:"#B7B7CE",fairy:"#D685AD"}},,,function(e,t,n){"use strict";var o=n(2),a=n(3),r=n(5),c=n(4),i=n(1),s=(n(25),n(0)),l=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props.typeName;return Object(s.jsx)("div",{className:"pokemon_type pokemon_type--".concat(e),children:e})}}]),n}(i.PureComponent);t.a=l},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o=function(e){return e.split("-").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")}},function(e,t,n){"use strict";var o=n(2),a=n(3),r=n(5),c=n(4),i=n(1),s=(n(26),n(0)),l=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).clickFn=function(t){t.stopPropagation(),e.props.clickHandler()},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.dark,o=t.isFavourite,a=t.style,r=t.className,c=o?"full_hearth":"hearth";return Object(s.jsx)("img",{style:a,alt:"Hearth Icon",src:"".concat("/Pokedex","/assets/").concat(n?"dark":"white","/").concat(c,".svg"),className:"favourite ".concat(r," ").concat("full_hearth"===c?"favourite--active":"favourite--disabled"),onMouseEnter:this.mouseEnter,onMouseLeave:this.mouseLeave,onClick:function(t){return e.clickFn(t)}})}}]),n}(i.PureComponent);t.a=l},function(e,t,n){"use strict";function o(e,t){return e.toString().padStart(t,0)}n.d(t,"a",(function(){return o}))},,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(11),a=n.n(o),r=n(6),c=n.n(r),i=n(8),s=n(2),l=n(3),u=n(5),d=n(4),h=n(1),f=n(7),m=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,o,a,r,i,s=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:40,n=s.length>1&&void 0!==s[1]?s[1]:0,e.next=4,fetch("".concat(f.a,"/pokemon?limit=").concat(t,"&offset=").concat(n*t));case 4:return o=e.sent,e.next=7,o.json();case 7:return a=e.sent,r=a.results,i=a.count,e.abrupt("return",{pokemons:r,count:i});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch("".concat(f.a,"/pokemon/").concat(t));case 4:return n=e.sent,e.next=7,n.json();case 7:return o=e.sent,e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=(n(23),n(0)),v=function(e){var t=e.children;return Object(j.jsx)("div",{className:"card_list",children:t})},b=n(10),k=n(15),O=n(16),g=n(14),x=Object(h.createContext)({loadedPokemons:[],loadedPokemonData:{},favouritePokemons:[],loadedPageNum:0,totalPokemons:0,addLoadedPokemons:function(){},increasePageNum:function(){},addToLoadedPokemonData:function(){},toggleFavourites:function(){},removeFavourites:function(){}}),P=function(e){var t=e.loadingState,n=void 0===t||t,o=e.width,a=void 0===o?100:o,r=e.height,c=void 0===r?100:r;return n?Object(j.jsx)("img",{src:"https://i.stack.imgur.com/kOnzy.gif",alt:"Loading",width:a,height:c}):""},y=(n(27),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).loadPokemonData=function(t){if(!e.state.pokemonData){var n=e.props.pokemonName;t.forEach(function(){var t=Object(i.a)(c.a.mark((function t(o){var a,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o.isIntersecting){t.next=11;break}if(!(a=e.context.loadedPokemonData[n])){t.next=6;break}e.setState({pokemonData:a}),t.next=11;break;case 6:return t.next=8,p(e.props.pokemonName);case 8:r=t.sent,e.context.addToLoadedPokemonData(e.props.pokemonName,r),e.setState({pokemonData:r});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},e.toggleFavourites=function(){var t=e.props.pokemonName;e.context.toggleFavourites(t)},e.state={pokemonData:null},e.cardRef=Object(h.createRef)(),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.observer=new IntersectionObserver(this.loadPokemonData,{root:null,rootMargin:"200px",threshold:.2}),this.observer.observe(this.cardRef.current)}},{key:"componentWillUnmount",value:function(){this.observer.disconnect()}},{key:"render",value:function(){var e,t,n,o=this,a=this.props,r=a.pokemonName,c=a.isFavourite,i=this.state.pokemonData,s=i?f.c[null===(e=i.types[0])||void 0===e||null===(t=e.type)||void 0===t?void 0:t.name]||f.c.normal:"#000",l={background:"linear-gradient(180deg,rgba(255, 255, 255, 0) 0%,".concat(s," 100%)")};return Object(j.jsxs)("div",{ref:this.cardRef,className:"card grow ".concat(i?"":"card--inactive"),style:{cursor:i?"pointer":"wait"},onClick:function(){return o.props.onClickHandler(i)},children:[Object(j.jsxs)("div",{className:"card__overlay",style:l,children:[i?Object(j.jsx)("img",{loading:"lazy",className:"card__image",src:i?null===(n=i.sprites)||void 0===n?void 0:n.front_default:"",alt:""}):Object(j.jsx)("div",{style:{textAlign:"center"},children:Object(j.jsx)(P,{width:"96",height:"96"})}),Object(j.jsx)("h3",{className:"card__title",children:Object(g.a)(r)}),Object(j.jsxs)("h4",{className:"card__id",children:["#",i?Object(O.a)(i.id,4):""]})]}),Object(j.jsxs)("div",{className:"card__content",children:[Object(j.jsx)("div",{children:i&&i.types.map((function(e){return Object(j.jsx)(b.a,{typeName:e.type.name},e.type.name)}))}),Object(j.jsx)(k.a,{style:{height:"26px"},isFavourite:c,clickHandler:this.toggleFavourites,dark:!0})]})]})}}]),n}(h.PureComponent));y.contextType=x;var C=y,N=(n(28),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).onOutsideClick=function(){e.props.onOutsideClick()},e.onCloseButtonClick=function(t){t.stopPropagation(),e.props.onCloseButtonClick()},e.onModalClick=function(e){e.stopPropagation()},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){document.body.style.overflow="hidden"}},{key:"componentWillUnmount",value:function(){document.body.style.overflow="auto"}},{key:"render",value:function(){var e=this;return a.a.createPortal(Object(j.jsx)("div",{className:"overlay",onClick:this.onOutsideClick,children:Object(j.jsx)("div",{className:"modal",onClick:function(t){return e.onModalClick(t)},children:this.props.children})}),document.body)}}]),n}(h.Component)),w=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).cb=function(t){t.forEach((function(t){t.isIntersecting&&e.props.callback()}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){new IntersectionObserver(this.cb,{root:null,rootMargin:"600px",threshold:0}).observe(this.props.loadRef.current)}},{key:"render",value:function(){return Object(j.jsx)(j.Fragment,{children:this.props.children})}}]),n}(h.Component),D=(n(29),function(){return Object(j.jsx)("img",{className:"logo",alt:"Pokemon Logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/98/International_Pok%C3%A9mon_logo.svg/1280px-International_Pok%C3%A9mon_logo.svg.png"})}),F=(n(30),function(e){var t=e.placeholder,n=e.onChange,o=e.value;return Object(j.jsx)("input",{className:"search_input",placeholder:t,value:o,onChange:function(e){return n(e.target.value)}})}),S=(n(31),function(e){var t=e.loadedCount,n=e.totalCount,o=e.loadMore,a=e.isLoading;return Object(j.jsx)("div",{className:"load_more",children:n!==t?Object(j.jsxs)("div",{children:["Can't find your result from"," ",Object(j.jsxs)("strong",{children:[t,"/",n]}),"loaded pokemons?",Object(j.jsx)("button",{className:"load_more__button",onClick:o,disabled:a,children:"Load More"})]}):Object(j.jsx)("div",{children:Object(j.jsx)("strong",{children:"No more to load, these are all results!"})})})}),_=n(9),M=n(12),L=(n(32),function(e){var t=e.children,n=Object(M.a)(e,["children"]);return Object(j.jsx)("button",Object(_.a)(Object(_.a)({className:"button"},n),{},{children:t}))}),T=(n(33),function(e){var t=e.children,n=Object(M.a)(e,["children"]);return Object(j.jsx)("div",Object(_.a)(Object(_.a)({className:"information_box"},n),{},{children:t}))}),A=(n(34),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.context,t=e.favouritePokemons,n=e.getPokemonType,o={};return t.forEach((function(e){var t=n(e);o[t]?o[t]+=1:o[t]=1})),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{className:"favourite_detail__title",children:"Favourite Pok\xe9mon Details"}),Object(j.jsxs)("p",{className:"favourite_detail__text",children:["You have total ",Object(j.jsx)("strong",{children:t.length})," Pok\xe9mon."]}),Object.keys(o).map((function(e){return Object(j.jsxs)("div",{className:"favourite_detail__type",children:[Object(j.jsx)("u",{children:o[e]}),"\xa0\xa0",Object(j.jsx)(b.a,{typeName:e}),"Type Pok\xe9mon"]},e)}))]})}}]),n}(h.Component));A.contextType=x;var E=A,R=(n(35),Object(h.lazy)((function(){return n.e(3).then(n.bind(null,41))}))),V=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).loadMore=Object(i.a)(c.a.mark((function t(){var n,o,a,r,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.infiniteScrollLoading||e.state.searchValue.length||"all"!==e.state.listType){t.next=8;break}return e.setState({infiniteScrollLoading:!0}),n=e.context,o=n.addLoadedPokemons,a=n.loadedPageNum,t.next=5,m(f.b,a);case 5:r=t.sent,i=r.pokemons,o(i,(function(){e.setState({infiniteScrollLoading:!1})}));case 8:case"end":return t.stop()}}),t)}))),e.loadMorePokemonsToCache=Object(i.a)(c.a.mark((function t(){var n,o,a,r,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.infiniteScrollLoading){t.next=8;break}return e.setState({infiniteScrollLoading:!0}),n=e.context,o=n.addLoadedPokemons,a=n.loadedPageNum,t.next=5,m(f.b,a);case 5:r=t.sent,i=r.pokemons,o(i,(function(){e.setState({infiniteScrollLoading:!1})}));case 8:case"end":return t.stop()}}),t)}))),e.showModal=function(t){t&&e.setState({isModalVisible:!0,selectedPokemonData:t})},e.closeModal=function(){e.setState({isModalVisible:!1,selectedPokemonData:null})},e.switchMode=function(){var t=e.state.listType;e.setState({searchValue:""}),e.setState({isModalVisible:!1,selectedPokemonData:null}),"all"===t?e.setState({listType:"favourites"}):e.setState({listType:"all"})},e.onSearchInputChange=function(t){e.setState({searchValue:t})},e.state={listType:"all",isModalVisible:!1,selectedPokemonData:null,searchValue:"",infiniteScrollLoading:!1},e.loadRef=Object(h.createRef)(),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,o,a,r,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.context,n=t.addLoadedPokemons,o=t.loadedPageNum,a=t.setTotalPokemonCount,0!==o){e.next=9;break}return e.next=4,m(f.b,this.state.pageNum);case 4:r=e.sent,i=r.pokemons,s=r.count,a(s),n(i);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.isModalVisible,o=t.listType,a=t.searchValue,r=this.context,c=r.loadedPokemons,i=r.favouritePokemons,s=r.removeFavourites,l=r.totalCount,u="all"===o?c.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())})):i.filter((function(e){return e.includes(a.toLowerCase())})).map((function(e){return{name:e}})),d=u.length?u.map((function(t){var n=i.includes(t.name);return Object(j.jsx)(C,{pokemonName:t.name,onClickHandler:e.showModal,isFavourite:n},t.name)})):"",f="all"===o?Object(j.jsx)(L,{onClick:this.switchMode,children:"My Pok\xe9mons"}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(L,{onClick:this.switchMode,children:"All Pok\xe9mons"}),i.length?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(L,{onClick:s,children:"Remove Favourites"}),Object(j.jsx)(L,{onClick:function(){window.location.href="#favouriteDetails"},children:"Favourite Details"})]}):""]});return Object(j.jsxs)("div",{className:"homepage",children:[Object(j.jsx)(D,{}),Object(j.jsx)("div",{className:"controls",children:f}),Object(j.jsx)(F,{placeholder:"Enter Pok\xe9mon name you want to search",onChange:this.onSearchInputChange,value:a}),u.length?Object(j.jsxs)(w,{loadRef:this.loadRef,callback:this.loadMore,children:[Object(j.jsx)(v,{children:d}),n?Object(j.jsx)(N,{onOutsideClick:this.closeModal,children:Object(j.jsx)(h.Suspense,{fallback:Object(j.jsx)(P,{}),children:Object(j.jsx)(R,{pokemonData:this.state.selectedPokemonData,onCloseButtonClick:this.closeModal,favouriteFn:this.context.toggleFavourites,isFavourite:this.context.favouritePokemons.includes(this.state.selectedPokemonData.name)})})}):"",c.length!==l?Object(j.jsx)("div",{ref:this.loadRef,style:{textAlign:"center"},children:Object(j.jsx)(P,{loadingState:!this.state.searchValue.length&&"all"===this.state.listType})}):Object(j.jsx)(T,{children:"You saw all Pok\xe9mons!"})]}):"favourites"===o?Object(j.jsx)(T,{children:a.length?"No pok\xe9mons found at your favourites!":"You have no favourite pok\xe9mons!"}):"",a.length&&"all"===o?Object(j.jsx)(T,{children:Object(j.jsx)(S,{loadedCount:this.context.loadedPokemons.length,totalCount:this.context.totalPokemons,loadMore:this.loadMorePokemonsToCache,isLoading:this.state.infiniteScrollLoading})}):"favourites"===o&&i.length&&!a.length?Object(j.jsx)(T,{id:"favouriteDetails",children:Object(j.jsx)(E,{})}):""]})}}]),n}(h.Component);V.contextType=x;var I=V,B=n(17),H=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).setTotalPokemonCount=function(t){e.setState({totalPokemons:t})},e.addLoadedPokemons=function(t,n){e.setState((function(e){return{loadedPokemons:e.loadedPokemons.concat(t),loadedPageNum:e.loadedPageNum+1}}),(function(){n&&n()}))},e.addToLoadedPokemonData=function(t,n){e.setState((function(e){return{loadedPokemonData:Object.assign({},e.loadedPokemonData,{[t]:n})}}))},e.getPokemonType=function(t){var n=e.state.loadedPokemonData[t];return!!n&&n.types[0].type.name},e.toggleFavourites=function(t){var n=e.state.favouritePokemons.indexOf(t);n>-1?e.setState((function(e){var t=Object(B.a)(e.favouritePokemons);return t.splice(n,1),{favouritePokemons:t}})):e.setState((function(e){return{favouritePokemons:e.favouritePokemons.concat(t)}}))},e.removeFavourites=function(){e.setState({favouritePokemons:[]})},e.increasePageNum=function(){e.setState((function(e){return{loadedPageNum:e.loadedPageNum+1}}))},e.state={loadedPokemons:[],loadedPokemonData:{},favouritePokemons:[],loadedPageNum:0,totalPokemons:0,addLoadedPokemons:e.addLoadedPokemons,increasePageNum:e.increasePageNum,addToLoadedPokemonData:e.addToLoadedPokemonData,toggleFavourites:e.toggleFavourites,removeFavourites:e.removeFavourites,setTotalPokemonCount:e.setTotalPokemonCount,getPokemonType:e.getPokemonType},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(j.jsx)(x.Provider,{value:this.state,children:this.props.children})}}]),n}(h.Component),z=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).state={hasError:!1},o}return Object(l.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?Object(j.jsx)("h1",{children:"Something went wrong."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(h.Component),U=(n(36),document.getElementById("root"));a.a.render(Object(j.jsx)(z,{children:Object(j.jsx)(H,{children:Object(j.jsx)(I,{})})}),U)}],[[37,1,2]]]);
//# sourceMappingURL=main.b6baeaf1.chunk.js.map