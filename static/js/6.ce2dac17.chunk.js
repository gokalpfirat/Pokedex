(this.webpackJsonppokedex=this.webpackJsonppokedex||[]).push([[6],{41:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var o=n(27),a=n.n(o),r=n(28),c=n(2),s=n(3),i=n(5),l=n(4),d=n(1),u=n(32),h=n(24),f=n(6),b=n(0),p=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).cb=function(t){t.forEach((function(t){t.isIntersecting&&e.props.callback()}))},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){new IntersectionObserver(this.cb,{root:null,rootMargin:"600px",threshold:0}).observe(this.props.loadRef.current)}},{key:"render",value:function(){return Object(b.jsx)(b.Fragment,{children:this.props.children})}}]),n}(d.Component),j=n(35),x=n(9),m=n(26),k=(n(41),function(e){var t=e.loadedCount,n=e.totalCount,o=e.loadMore,a=e.isLoading;return Object(b.jsx)("div",{className:"load_more",children:n!==t?Object(b.jsxs)("div",{children:["Can't find your result from"," ",Object(b.jsxs)("strong",{children:[t,"/",n]}),"loaded pokemons?",Object(b.jsx)("button",{className:"load_more__button",onClick:o,disabled:a,children:"Load More"})]}):Object(b.jsx)("div",{children:Object(b.jsx)("strong",{children:"No more to load, these are all results!"})})})}),g=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).loadMore=Object(r.a)(a.a.mark((function t(){var n,o,r,c,s,i,l,d;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.pageContext,o=n.listType,r=n.searchValue,e.state.infiniteScrollLoading||r.length||"all"!==o){t.next=9;break}return e.setState({infiniteScrollLoading:!0}),c=e.context,s=c.addLoadedPokemons,i=c.loadedPageNum,t.next=6,Object(u.b)(h.b,i);case 6:l=t.sent,d=l.pokemons,s(d,(function(){e.setState({infiniteScrollLoading:!1})}));case 9:case"end":return t.stop()}}),t)}))),e.loadMorePokemonsToCache=Object(r.a)(a.a.mark((function t(){var n,o,r,c,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.infiniteScrollLoading){t.next=8;break}return e.setState({infiniteScrollLoading:!0}),n=e.context,o=n.addLoadedPokemons,r=n.loadedPageNum,t.next=5,Object(u.b)(h.b,r);case 5:c=t.sent,s=c.pokemons,o(s,(function(){e.setState({infiniteScrollLoading:!1})}));case 8:case"end":return t.stop()}}),t)}))),e.state={infiniteScrollLoading:!1},e.loadRef=Object(d.createRef)(),e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=Object(r.a)(a.a.mark((function e(){var t,n,o,r,c,s,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.context,n=t.addLoadedPokemons,o=t.loadedPageNum,r=t.setTotalPokemonCount,0!==o){e.next=9;break}return e.next=4,Object(u.b)(h.b,this.state.pageNum);case 4:c=e.sent,s=c.pokemons,i=c.count,r(i),n(s);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.pageContext,t=e.listType,n=e.searchValue,o=this.context,a=o.loadedPokemons,r=o.totalCount,c=a.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}));return a.length>0&&Object(b.jsxs)(p,{loadRef:this.loadRef,callback:this.loadMore,children:[Object(b.jsx)(j.a,{list:c}),a.length!==r?Object(b.jsx)("div",{ref:this.loadRef,style:{textAlign:"center"},children:Object(b.jsx)(x.a,{loadingState:!n.length&&"all"===t})}):Object(b.jsx)(m.a,{children:"You saw all Pok\xe9mons!"}),n.length>0&&Object(b.jsx)(m.a,{children:Object(b.jsx)(k,{loadedCount:this.context.loadedPokemons.length,totalCount:this.context.totalPokemons,loadMore:this.loadMorePokemonsToCache,isLoading:this.state.infiniteScrollLoading})})]})}}]),n}(d.Component);g.contextType=f.a;t.default=g}}]);
//# sourceMappingURL=6.ce2dac17.chunk.js.map